<!DOCTYPE html>
<html lang="id">
<head>
<meta charset="UTF-8">
<title>Game Tebak Angka</title>
<style>
body {
  font-family: Arial, sans-serif;
  background: #f5f5f5;
  color: #333;
  text-align: center;
  padding-top: 60px;
  margin: 0;
}
.box {
  background: #fff;
  padding: 20px;
  margin: 20px auto;
  border-radius: 15px;
  width: 90%;
  max-width: 400px;
  box-shadow: 0 4px 8px rgba(0,0,0,0.2);
}
button {
  padding: 12px 25px;
  font-size: 18px;
  border: none;
  border-radius: 10px;
  background: gold;
  cursor: pointer;
  margin-top: 10px;
}
input {
  padding: 10px;
  font-size: 18px;
  width: 100px;
  text-align: center;
}
.iklan {
  background: #111;
  padding: 15px;
  margin-top: 15px;
  border-radius: 10px;
  color: #0f0;
}
#wallet {
  position: fixed;
  top: 20px;
  right: 20px;
  background: rgba(0,0,0,0.5);
  padding: 10px 15px;
  border-radius: 10px;
  font-size: 16px;
  color: #fff;
  z-index: 1000;
  display: flex;
  gap: 10px;
  align-items: center;
}
#rulesBtn {
  background: #555;
  padding: 5px 10px;
  font-size: 14px;
  border-radius: 8px;
}
#rulesPopup {
  display: none;
  position: fixed;
  top: 50px;
  right: 20px;
  background: #fff;
  color: #333;
  padding: 15px;
  border-radius: 10px;
  width: 250px;
  box-shadow: 0 4px 8px rgba(0,0,0,0.3);
  text-align: left;
  z-index: 1001;
}
</style>
</head>
<body>

<div id="wallet">
  üí∞ <span id="saldoWallet">0</span> Koin
  <button id="rulesBtn" onclick="toggleRules()">Rules</button>
</div>

<div id="rulesPopup">
  <h3>Ketentuan Game</h3>
  <ul>
    <li>Jawaban benar: +1 poin</li>
    <li>Jawaban salah: boleh ulang terus</li>
    <li>Salah 3x berturut-turut ‚Üí tampil iklan</li>
    <li>Naik level ‚Üí iklan muncul</li>
    <li>7 poin = 2k simulasi</li>
    <li>Withdraw minimal 10k koin</li>
    <li>Metode: OVO, DANA, GOPAY</li>
    <li>Proses withdraw paling lambat 24 jam kerja (simulasi aman)</li>
  </ul>
  <button onclick="toggleRules()">Tutup</button>
</div>

<h1>üéÆ Game Tebak Angka</h1>
<p>Level: <span id="level">1</span> / 100</p>

<div class="box" id="menu">
  <button onclick="mulaiGame()">MULAI</button>
</div>

<div class="box" id="game" style="display:none;">
  <h2 id="soal"></h2>
  <input type="number" id="jawaban">
  <br><br>
  <button onclick="cekJawaban()">JAWAB</button>
  <p id="infoSalah" style="color:red;"></p>
</div>

<div class="box iklan" id="iklan" style="display:none;">
  üì¢ IKLAN<br>
  <small>Contoh iklan tampil setelah salah 3x atau naik level</small><br><br>
  <button onclick="tutupIklan()">LANJUT</button>
</div>

<div class="box" id="withdrawBox">
  <h3>Withdraw Simulasi</h3>
  <button onclick="withdraw('OVO')">OVO</button>
  <button onclick="withdraw('DANA')">DANA</button>
  <button onclick="withdraw('GOPAY')">GOPAY</button>
</div>

<script>
let level = parseInt(localStorage.getItem("level")) || 1;
let koin = parseInt(localStorage.getItem("koin")) || 0;
let salahBeruntun = 0;
let a = 0;
let b = 0;

document.getElementById("level").innerText = level;
document.getElementById("saldoWallet").innerText = koin;

function toggleRules(){
  let popup = document.getElementById("rulesPopup");
  popup.style.display = popup.style.display === "block" ? "none" : "block";
}

function mulaiGame(){
  document.getElementById("menu").style.display = "none";
  document.getElementById("game").style.display = "block";
  buatSoal();
}

function buatSoal(){
  a = Math.floor(Math.random()*10) + 1;
  b = Math.floor(Math.random()*10) + 1;
  document.getElementById("soal").innerText = a + " + " + b + " = ?";
  document.getElementById("jawaban").value = "";
  document.getElementById("infoSalah").innerText = "";
}

function cekJawaban(){
  let jawab = parseInt(document.getElementById("jawaban").value);
  if(jawab === a + b){
    koin++;
    salahBeruntun = 0;
    localStorage.setItem("koin", koin);
    document.getElementById("saldoWallet").innerText = koin;

    level++;
    if(level > 100) level = 100;
    localStorage.setItem("level", level);
    document.getElementById("level").innerText = level;

    document.getElementById("game").style.display = "none";
    document.getElementById("iklan").style.display = "block"; // iklan tiap level naik
  } else {
    salahBeruntun++;
    document.getElementById("infoSalah").innerText = "‚ùå Salah! Salah berturut-turut: " + salahBeruntun;
    if(salahBeruntun >= 3){
      salahBeruntun = 0;
      document.getElementById("game").style.display = "none";
      document.getElementById("iklan").style.display = "block"; // iklan setelah salah 3x
    }
  }
}

function tutupIklan(){
  document.getElementById("iklan").style.display = "none";
  document.getElementById("game").style.display = "block";
  buatSoal();
}

// Simulasi withdraw
function withdraw(metode){
  if(koin >= 10000){
    alert("‚úÖ Withdraw "+metode+" berhasil! (Simulasi aman)\nProses paling lambat 24 jam kerja");
    koin -= 10000;
    localStorage.setItem("koin", koin);
    document.getElementById("saldoWallet").innerText = koin;
  } else {
    alert("‚ùå Minimal withdraw 10.000 koin. Sekarang: " + koin);
  }
}
</script>

</body>
</html>
